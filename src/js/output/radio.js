// Generated by CoffeeScript 1.4.0
(function(){var e,t,n;n=this;t=n.log;e=n.define;e(["jquery"],function(e){var t;t=function(){function t(){}t.sessionLineItems=function(t){var n,r,i,s,o,u,a,f,l;s=parseInt(e("#num-actors").val(),10);u=parseInt(e("#num-singers").val(),10);o=[];e(".num-characters").each(function(t,n){return o[t]=parseInt(e(n).val(),10)});f=parseInt(e("#num-versions").val(),10);a=parseInt(e("#num-tags").val(),10);l=0;a>1&&(l=t.tag_2_25);a>25&&(l=t.tag_26_50);a>50&&(l=t.tag_51);i=[];n=0;while(n++<s){r={label:"Actor/Announcer "+n,first:{label:"Initial Session Fee",price:t.session_actor},items:[]};o[n-1]-1&&r.items.push({count:o[n-1]-1,label:"Add'l Characters/Voices",price:t.session_actor});f-1&&r.items.push({count:f-1,label:"Add'l Versions of the Script",price:t.session_actor});n===1&&l&&r.items.push({count:a-1,label:"Add'l Tags at $ "+l.toFixed(2),price:l});i.push(r)}n=0;while(n++<u){r={label:"Singer "+n,first:{label:"Initial Session Fee",price:t.session_singer},items:[]};f-1&&r.items.push({count:f-1,label:"Add'l Versions of the Script",price:t.session_singer});i.push(r)}return i};t.usageLineItems=function(t){var n,r,i,s,o,u,a,f,l,c,h,p,d,v,m,g,y,b,w;v=parseInt(e("#num-actors").val(),10);m=parseInt(e("#num-singers").val(),10);w=parseInt(e("#use-type").val(),10);r=-1;u=-1;f=[];a={label:"",items:[]};switch(w){case 0:r=parseInt(e("#broadcast-type").val(),10);break;case 1:u=parseInt(e("#internet-type").val(),10);break;case 2:r=parseInt(e("#broadcast-type").val(),10);u=parseInt(e("#internet-type").val(),10)}switch(r){case 0:a.label="Wild Spot (13 Week Cycle)";n=e("#markets");y=n.val();c=[];e(y).each(function(e,t){return c[e]=n.find("[value="+t+"]").data("value")});s=[];o=0;i=c.indexOf("Chicago");if(i!==-1){s[s.length]=c.splice(i,1)[0];o=t.wild_13_major_chicago}l=c.indexOf("Los Angeles");if(l!==-1){s[s.length]=c.splice(l,1)[0];o=t.wild_13_major_los_angeles}d=c.indexOf("New York");if(d!==-1){s[s.length]=c.splice(d,1)[0];o=t.wild_13_major_new_york}s.length===2&&(o=t.wild_13_major_any_2);s.length===3&&(o=t.wild_13_major_all_3);g=c.length?c.reduce(function(e,t){return e+t})-1:0;b=0;g>1&&(b=t.wild_13_unit_2_25);if(g>25||s.length)b=t.wild_13_unit_26;o&&a.items.push({count:s.length,label:"Major Markets ("+s.join(", ")+")",price:o});b&&a.items.push({count:g,label:"Add'l Units at $ "+b.toFixed(2),price:b});!o&&!b&&a.items.push({count:0,label:"Please choose broadcast markets.",price:0});break;case 1:a.label="Wild Spot (8 Week Cycle)";n=e("#markets");y=n.val();c=[];e(y).each(function(e,t){return c[e]=n.find("[value="+t+"]").data("value")});s=[];o=0;i=c.indexOf("Chicago");if(i!==-1){s[s.length]=c.splice(i,1)[0];o=t.wild_8_major_chicago}l=c.indexOf("Los Angeles");if(l!==-1){s[s.length]=c.splice(l,1)[0];o=t.wild_8_major_los_angeles}d=c.indexOf("New York");if(d!==-1){s[s.length]=c.splice(d,1)[0];o=t.wild_8_major_new_york}s.length===2&&(o=t.wild_8_major_any_2);s.length===3&&(o=t.wild_8_major_all_3);g=c.length?c.reduce(function(e,t){return e+t}):0;b=0;g>1&&(b=t.wild_8_unit_2_25);if(g>25||s.length)b=t.wild_8_unit_26;o&&a.items.push({count:s.length,label:"Major Markets ("+s.join(", ")+")",price:o});b&&a.items.push({count:g,label:"Add'l Units at $ "+b.toFixed(2),price:b});!o&&!b&&a.items.push({count:0,label:"Please choose broadcast markets.",price:0});break;case 2:a.label="Dealer Commercial (6 Month Use)";v&&a.items.push({count:v,label:"Actor/Announcer(s)",price:t.dealer_actor});m&&a.items.push({count:m,label:"Singer(s)",price:t.dealer_singer});break;case 3:a.label="Network Program Commercial (13 Week Cycle";p=parseInt(e("#network-program-use-type").val(),10);h=0;switch(p){case 0:a.label+=" - 1 Week Use)";h=t.network_1;break;case 1:a.label+=" - 4 Week Use)";h=t.network_4;break;case 2:a.label+=" - 8 Week Use)";h=t.network_8;break;case 3:a.label+=" - 13 Week Use)";h=t.network_13;break;case 4:a.label+=" - 13 Week Limited Use - 26 Uses)";h=t.network_13_limited_26;break;case 5:a.label+=" - 13 Week Limited Use - 39 Uses)";h=t.network_13_limited_39;break;default:a.label+=")"}if(!h)a.items.push({count:0,label:"Please choose network use type.",price:0});else{v&&a.items.push({count:v,label:"Actor/Announcer(s)",price:h});m&&a.items.push({count:m,label:"Singer(s)",price:h})}break;case 4:a.label="Regional Network Program Commercial (13 Week Use)";v&&a.items.push({count:v,label:"Actor/Announcer(s)",price:t.regional_network});m&&a.items.push({count:m,label:"Singer(s)",price:t.regional_network})}a.items.length&&f.push(a);a={label:"Internet or New Media Use",items:[]};switch(u){case 0:a.items.push({count:0,label:"8 Week Option",price:t.internet_8_week});break;case 1:a.items.push({count:0,label:"1 Year Option",price:t.internet_1_year})}a.items.length&&f.push(a);return f};return t}();return t})}).call(this);