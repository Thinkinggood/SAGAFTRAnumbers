// Generated by CoffeeScript 1.4.0
(function(){var e,t,n;n=this;t=n.log;e=n.define;e(["jquery","underscore"],function(e,t){var n;n=function(){function n(){}n.sessionLineItems=function(t){var n,r,i,s,o,u,a,f,l;s=parseInt(e("#num-actors").val(),10);u=parseInt(e("#num-singers").val(),10);o=[];e(".num-characters").each(function(t,n){return o[t]=parseInt(e(n).val(),10)});f=parseInt(e("#num-versions").val(),10);a=parseInt(e("#num-tags").val(),10);l=0;a>1&&(l=t.tag_2_25);a>25&&(l=t.tag_26_50);a>50&&(l=t.tag_51);i=[];n=0;while(n++<s){r={label:"Actor/Announcer "+n,first:{label:"Initial Session Fee",price:t.session_actor},items:[]};o[n-1]-1&&r.items.push({count:o[n-1]-1,label:"Add'l Characters/Voices",price:t.session_actor});f-1&&r.items.push({count:f-1,label:"Add'l Versions of the Script",price:t.session_actor});i.push(r)}n=0;while(n++<u){r={label:"Singer "+n,first:{label:"Initial Session Fee",price:t.session_singer},items:[]};f-1&&r.items.push({count:f-1,label:"Add'l Versions of the Script",price:t.session_singer});i.push(r)}l&&i.push({label:"Tags",first:{label:""+(a-1)+" Additional Tags at $ "+l.toFixed(2)+" ea.",price:l*(a-1)},items:[]});return i};n.usageLineItems=function(n){var r,i,s,o,u,a,f,l,c,h,p,d,v,m,g,y,b,w,E;m=parseInt(e("#num-actors").val(),10);g=parseInt(e("#num-singers").val(),10);E=parseInt(e("#use-type").val(),10);i=-1;a=-1;l=[];f={label:"",items:[]};switch(E){case 0:i=parseInt(e("#broadcast-type").val(),10);break;case 1:a=parseInt(e("#internet-type").val(),10);break;case 2:i=parseInt(e("#broadcast-type").val(),10);a=parseInt(e("#internet-type").val(),10)}switch(i){case 0:f.label="Wild Spot (13 Week Cycle)";r=e("#markets");b=r.val();h=[];e(b).each(function(e,t){return h[e]=r.find("[value="+t+"]").data("value")});o=[];u=0;s=t.indexOf(h,"Chicago");if(s!==-1){o[o.length]=h.splice(s,1)[0];u=n.wild_13_major_chicago}c=t.indexOf(h,"Los Angeles");if(c!==-1){o[o.length]=h.splice(c,1)[0];u=n.wild_13_major_los_angeles}v=t.indexOf(h,"New York");if(v!==-1){o[o.length]=h.splice(v,1)[0];u=n.wild_13_major_new_york}o.length===2&&(u=n.wild_13_major_any_2);o.length===3&&(u=n.wild_13_major_all_3);y=h.length?t.reduce(h,function(e,t){return e+t})-1:0;w=0;y>1&&(w=n.wild_13_unit_2_25);if(y>25||o.length)w=n.wild_13_unit_26;u&&f.items.push({count:o.length,label:"Major Markets ("+o.join(", ")+")",price:u});w&&f.items.push({count:y,label:"Add'l Units at $ "+w.toFixed(2),price:w});!u&&!w&&f.items.push({count:0,label:"Please choose broadcast markets.",price:0});break;case 1:f.label="Wild Spot (8 Week Cycle)";r=e("#markets");b=r.val();h=[];e(b).each(function(e,t){return h[e]=r.find("[value="+t+"]").data("value")});o=[];u=0;s=t.indexOf(h,"Chicago");if(s!==-1){o[o.length]=h.splice(s,1)[0];u=n.wild_8_major_chicago}c=t.indexOf(h,"Los Angeles");if(c!==-1){o[o.length]=h.splice(c,1)[0];u=n.wild_8_major_los_angeles}v=t.indexOf(h,"New York");if(v!==-1){o[o.length]=h.splice(v,1)[0];u=n.wild_8_major_new_york}o.length===2&&(u=n.wild_8_major_any_2);o.length===3&&(u=n.wild_8_major_all_3);y=h.length?t.reduce(h,function(e,t){return e+t})-1:0;w=0;y>1&&(w=n.wild_8_unit_2_25);if(y>25||o.length)w=n.wild_8_unit_26;u&&f.items.push({count:o.length,label:"Major Markets ("+o.join(", ")+")",price:u});w&&f.items.push({count:y,label:"Add'l Units at $ "+w.toFixed(2),price:w});!u&&!w&&f.items.push({count:0,label:"Please choose broadcast markets.",price:0});break;case 2:f.label="Dealer Commercial (6 Month Use)";m&&f.items.push({count:m,label:"Actor/Announcer(s)",price:n.dealer_actor});g&&f.items.push({count:g,label:"Singer(s)",price:n.dealer_singer});break;case 3:f.label="Network Program Commercial (13 Week Cycle";d=parseInt(e("#network-program-use-type").val(),10);p=0;switch(d){case 0:f.label+=" - 1 Week Use)";p=n.network_1;break;case 1:f.label+=" - 4 Week Use)";p=n.network_4;break;case 2:f.label+=" - 8 Week Use)";p=n.network_8;break;case 3:f.label+=" - 13 Week Use)";p=n.network_13;break;case 4:f.label+=" - 13 Week Limited Use - 26 Uses)";p=n.network_13_limited_26;break;case 5:f.label+=" - 13 Week Limited Use - 39 Uses)";p=n.network_13_limited_39;break;default:f.label+=")"}if(!p)f.items.push({count:0,label:"Please choose network use type.",price:0});else{m&&f.items.push({count:m,label:"Actor/Announcer(s)",price:p});g&&f.items.push({count:g,label:"Singer(s)",price:p})}break;case 4:f.label="Regional Network Program Commercial (13 Week Use)";m&&f.items.push({count:m,label:"Actor/Announcer(s)",price:n.regional_network});g&&f.items.push({count:g,label:"Singer(s)",price:n.regional_network})}f.items.length&&l.push(f);f={label:"Internet or New Media Use",items:[]};switch(a){case 0:f.items.push({count:0,label:"8 Week Option",price:n.internet_8_week});break;case 1:f.items.push({count:0,label:"1 Year Option",price:n.internet_1_year})}f.items.length&&l.push(f);return l};return n}();return n})}).call(this);