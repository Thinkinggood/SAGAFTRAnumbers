// Generated by CoffeeScript 1.3.3
(function() {
  var define, log, root;

  root = this;

  log = root.log;

  define = root.define;

  define(['jquery', 'output/line-item-group'], function($, LineItemGroup) {
    var Estimator;
    Estimator = (function() {

      function Estimator(label, className) {
        this.label = label;
        this.className = className;
        this.estimators = [];
        return;
      }

      Estimator.prototype.estimate = function(data) {
        var i, lineItem, _base, _i, _len, _ref, _ref1;
        this.data = data;
        this.html = "";
        this.cost = 0;
        _ref = this.data;
        for (i = _i = 0, _len = _ref.length; _i < _len; i = ++_i) {
          lineItem = _ref[i];
          if ((_ref1 = (_base = this.estimators)[i]) == null) {
            _base[i] = new LineItemGroup(this.className);
          }
          this.estimators[i].estimate(lineItem);
          this.html += this.estimators[i].html;
          this.cost += this.estimators[i].cost;
        }
        this.html += "<tbody class=\"line-item-group " + this.className + "-subtotal\">\n  <tr>\n    <th headers=\"line-item-label\" class=\"label\">" + this.label + "</th>\n    <th headers=\"line-item-amount\" class=\"amount\">$ " + (this.cost.toFixed(2)) + "</th>\n  </tr>\n</tbody>";
      };

      return Estimator;

    })();
    return Estimator;
  });

}).call(this);
