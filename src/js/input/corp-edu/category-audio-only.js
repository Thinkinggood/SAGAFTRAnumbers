// Generated by CoffeeScript 1.6.1
(function() {
  var define, log, root;

  root = this;

  log = root.log;

  define = root.define;

  define(['jquery', 'underscore', 'input/corp-edu/use-storecasting'], function($, _, UseStorecasting) {
    var Category,
      _this = this;
    Category = (function() {

      function Category() {
        var _this = this;
        this.onChange = function(event) {
          return Category.prototype.onChange.apply(_this, arguments);
        };
        this.html = "<fieldset>\n	<span style=\"vertical-align: top;\">This Audio Only program is a (please choose one):</span>\n	<div>\n		<input type=\"radio\" name=\"category\" id=\"category-i\" value=\"0\" checked /> <label for=\"category-i\"><a href=\"#category-i-definition\" class=\"term open\">Category I</a></label><br/>\n		\n		<input type=\"radio\" name=\"category\" id=\"category-ii\" value=\"1\" /> <label for=\"category-ii\"><a href=\"#category-ii-definition\" class=\"term open\">Category II</a></label><br/>\n		\n		<input type=\"radio\" name=\"category\" id=\"ivr-category\" value=\"2\" />\n		<label for=\"ivr-category\" style=\"display: inline-block; vertical-align: top;\">\n			<a href=\"#interactive-voice-recording-ivr-phone-prompt-systems\" class=\"term open\">\n				Interactive Voice Recording (IVR), <br/>\n				Phone Prompt System, or <br/>\n				Phonecasting\n			</a>\n		</label><br/>\n\n		<input type=\"radio\" name=\"category\" id=\"storecasting\" value=\"3\" /> <label for=\"storecasting\"><a href=\"#storecasting-definition\" class=\"term open\">Storecasting</a></label>\n	</div>\n</fieldset>";
        this.$el = $(this.html);
        this.el = this.$el[0];
        this.setupOptions();
        this.$el.on('change', 'input', this.onChange);
      }

      Category.prototype.setupOptions = function() {
        this.selectedIndex = -1;
        this.selectedItem = null;
        return this.options = [new UseStorecasting()];
      };

      Category.prototype.getSelectedItem = function() {
        return this.selectedItem;
      };

      Category.prototype.onChange = function(event) {
        this.selectedIndex = parseInt(event.target.value, 10);
        if (this.selectedIndex !== parseInt(this.$el.find('#storecasting').val(), 10)) {
          if (this.selectedItem != null) {
            this.selectedItem.$el.detach();
          }
          this.selectedItem = null;
          return;
        }
        this.selectedItem = this.options[0];
        if (this.selectedItem != null) {
          return this.$el.siblings('fieldset').last().afterPolyfill(this.selectedItem.$el);
        }
      };

      return Category;

    })();
    return Category;
  });

}).call(this);
