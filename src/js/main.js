// Generated by CoffeeScript 1.3.3
/*
  Author: Matt Hayes
*/(function(){var e,t,n;n=this;e=n.log;t=n.require;t.config({paths:{jquery:"libs/jquery-1.7.1",underscore:"libs/underscore-1.3.2",webshim:"plugins/webshim-1.8.9/polyfiller",chosen:"plugins/chosen.jquery-0.9.8",order:"plugins/order-1.0.5"}});t(["order!jquery","order!app","order!webshim","order!chosen"],function(e,t){var n;n=e;n.webshims.polyfill();n(function(){var e,r,i,s,o,u,a,f,l,c;i=n(window);r=n(document);e=n("#app");s=new t(e[0]);n(".chzn-select").not(".chzn-done").chosen({allow_single_deselect:!0,disable_search_threshold:20});l=function(e){e.preventDefault();s.restart()};f=function(e){e.preventDefault();n(".hud .start, .calculator .both").fadeOut(400);n(".hud .estimate, .hud h5, nav li").fadeIn(400);n("footer h3, footer h4, footer address").show(400,function(){if(!n(".page").hasClass("home"))return null;n(".page").removeClass("home");return s.start()})};a=function(e){e.preventDefault();n(".page").addClass("home");n(".hud .start, #splash").fadeIn(400);n(".hud .estimate, .hud h5, nav li").fadeOut(400);n("footer h3, footer h4, footer address").hide(400)};u=function(e){var t;e.preventDefault();t=n(this.hash);if(t.is(":visible")){n(this.hash+"-overlay").fadeOut(400);t.fadeOut(400)}else{n(this.hash+"-overlay").fadeIn(400);t.fadeIn(400)}n("#tooltip-left").fadeOut(400);n("#tooltip-right").fadeOut(400)};c=function(e){var t,r,i,s,o,u,a,f;e.preventDefault();i=n(this);r=n(this.hash);a="#tooltip-"+(i.closest(".inner").hasClass("left")?"left":"right");t=n(a);if(this.hash===a){t.fadeOut(400);return}f=i.position().top+i.height()+14|0;s=i.position().left+i.width()/2-46|0;if(t.find(this.hash).length){u=t.position().top!==f;o=t.find(".pointer").position().left!==s;if(u||o){t.css("top",f).find(".pointer").css("left",s).end().fadeIn(400);return}t.is(":visible")?t.fadeOut(400):t.fadeIn(400);return}t.find(".content").empty().append(r.clone()).end().css("top",f).find(".pointer").css("left",s).end();t.is(":visible")||t.fadeIn(400)};o=function(e){n(".tooltip").fadeOut(400)};r.on("click",".definitions.open, .definitions.close",u).on("click",".term.open, .term.close",c).on("click",".start-over a",l).on("click",".start a",f).on("click","h1 a",a);s.$el.on("change",o)})})}).call(this);